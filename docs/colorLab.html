<!DOCTYPE html>

<html>
<head>
  <title>colorLab.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
    <ul class="sections">
        
          <li id="title">
              <div class="annotation">
                  <h1>colorLab.js</h1>
              </div>
          </li>
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              <pre><code>colorLab.js 0.0.1

(c) 2013 Stefan Huber, Signalwerk GmbH
colorLab may be freely distributed under the MIT license.
For all details and documentation:
http://colorlabjs.org</code></pre>
<p>Design-Patterns inspired by
<a href="http://www.nixtu.info/2011/05/using-jsshaper-to-provide-operator.html">http://www.nixtu.info/2011/05/using-jsshaper-to-provide-operator.html</a>
<a href="https://github.com/tcorral/Design-Patterns-in-Javascript/blob/master/Chaining/Chainable.js">https://github.com/tcorral/Design-Patterns-in-Javascript/blob/master/Chaining/Chainable.js</a></p>
<h2>colorLab Class</h2>

            </div>
            
        </li>
        
        
        <li id="section-2">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-2">&#182;</a>
              </div>
              <p>At the moment there ist just support for CIELAB 
Initialize the Class with </p>
<pre><code>new colorLab(&#39;CIELAB&#39;, [2, 4, 6]);</code></pre>
<p>or </p>
<pre><code>new colorLab(&#39;CIELAB&#39;);</code></pre>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="keyword">var</span> colorLab = (<span class="keyword">function</span>(space, values){</pre></div></div>
            
        </li>
        
        
        <li id="section-3">
            <div class="annotation">
              
              <div class="pilwrap for-h2">
                <a class="pilcrow" href="#section-3">&#182;</a>
              </div>
              <h2>Initial Setup</h2>

            </div>
            
        </li>
        
        
        <li id="section-4">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-4">&#182;</a>
              </div>
              <p>Save a reference to the global object </p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="keyword">var</span> root = <span class="keyword">this</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-5">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-5">&#182;</a>
              </div>
              <p>Current version of the library.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="keyword">this</span>.VERSION = <span class="string">'0.0.1'</span>;

    <span class="keyword">this</span>._currentSpace = <span class="string">"none"</span>;
    <span class="keyword">this</span>._CIELAB = {};</pre></div></div>
            
        </li>
        
        
        <li id="section-6">
            <div class="annotation">
              
              <div class="pilwrap for-h3">
                <a class="pilcrow" href="#section-6">&#182;</a>
              </div>
              <h3>to work in the CIELAB colorspace</h3>
<p>use it with <code>colorLab.CIELAB</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="keyword">this</span>.CIELAB = {
        init: <span class="keyword">function</span>(L, a, b) {
            root._CIELAB = {L:<span class="number">0</span>,a:<span class="number">0</span>,b:<span class="number">0</span>};
            <span class="keyword">this</span>.L(L);
            <span class="keyword">this</span>.a(a);
            <span class="keyword">this</span>.b(b);
        },

        L: <span class="keyword">function</span>(L) {
            <span class="keyword">if</span> (L === <span class="literal">undefined</span>) {
                <span class="keyword">return</span> root._CIELAB.L;
            } <span class="keyword">else</span> {
                root._CIELAB.L = L;
            }
        },
        a: <span class="keyword">function</span>(a) {
            <span class="keyword">if</span> (a === <span class="literal">undefined</span>) {
                <span class="keyword">return</span> root._CIELAB.a;
            } <span class="keyword">else</span> {
                root._CIELAB.a = a;
            }
        },
        b: <span class="keyword">function</span>(b) {
            <span class="keyword">if</span> (b === <span class="literal">undefined</span>) {
                <span class="keyword">return</span> root._CIELAB.b;
            } <span class="keyword">else</span> {
                root._CIELAB.b = b;
            }
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-7">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-7">&#182;</a>
              </div>
              <p>add value to pint like <code>add({x:1,y:2})</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        add: <span class="keyword">function</span>(other) {
            <span class="keyword">return</span> <span class="keyword">this</span>._fnTemplate(other, <span class="keyword">function</span>(a, b) {<span class="keyword">return</span> a + b;});
        },
        sub: <span class="keyword">function</span>(other) {
            <span class="keyword">return</span> <span class="keyword">this</span>._fnTemplate(other, <span class="keyword">function</span>(a, b) {<span class="keyword">return</span> a - b;});
        },
        mul: <span class="keyword">function</span>(other) {
            <span class="keyword">return</span> <span class="keyword">this</span>._fnTemplate(other, <span class="keyword">function</span>(a, b) {<span class="keyword">return</span> a * b;});
        },
        div: <span class="keyword">function</span>(other) {
            <span class="keyword">return</span> <span class="keyword">this</span>._fnTemplate(other, <span class="keyword">function</span>(a, b) {<span class="keyword">return</span> a / b;});
        },
        floor: <span class="keyword">function</span>() {
            <span class="keyword">return</span> <span class="keyword">this</span>._fnTemplate(<span class="literal">null</span>, <span class="keyword">function</span>(a) {<span class="keyword">return</span> Math.floor(a);});
        },
        round: <span class="keyword">function</span>() {
            <span class="keyword">return</span> <span class="keyword">this</span>._fnTemplate(<span class="literal">null</span>, <span class="keyword">function</span>(a) {<span class="keyword">return</span> Math.round(a);});
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-8">
            <div class="annotation">
              
              <div class="pilwrap for-h4">
                <a class="pilcrow" href="#section-8">&#182;</a>
              </div>
              <h4>general function template</h4>
<p>this is the general template to run the generalized functions</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        _fnTemplate: <span class="keyword">function</span>(other, op) {</pre></div></div>
            
        </li>
        
        
        <li id="section-9">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-9">&#182;</a>
              </div>
              <p>run function without an additional numeric imput like <code>add(2)</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            <span class="keyword">if</span> (<span class="keyword">typeof</span>(other) === <span class="string">'number'</span>) {
                <span class="keyword">this</span>.L( op(<span class="keyword">this</span>.L(), other) );
                <span class="keyword">this</span>.a( op(<span class="keyword">this</span>.a(), other) );
                <span class="keyword">this</span>.b( op(<span class="keyword">this</span>.b(), other) );
                <span class="keyword">return</span> <span class="keyword">this</span>;
            }</pre></div></div>
            
        </li>
        
        
        <li id="section-10">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-10">&#182;</a>
              </div>
              <p>run function without an additional imput like <code>round()</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            <span class="keyword">if</span> (other === <span class="literal">null</span>) {
                <span class="keyword">this</span>.L( op(<span class="keyword">this</span>.L()) );
                <span class="keyword">this</span>.a( op(<span class="keyword">this</span>.a()) );
                <span class="keyword">this</span>.b( op(<span class="keyword">this</span>.b()) );
                <span class="keyword">return</span> <span class="keyword">this</span>;
            }</pre></div></div>
            
        </li>
        
        
        <li id="section-11">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-11">&#182;</a>
              </div>
              <p>run function without an additional imput of type colorLab or objects <code>add({L:2,a:3,b:2})</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            <span class="keyword">if</span> (other.CIELAB === <span class="literal">undefined</span>) {
                <span class="keyword">this</span>.L( op(<span class="keyword">this</span>.L(), other.L) );
            } <span class="keyword">else</span> {
                <span class="keyword">this</span>.L( op(<span class="keyword">this</span>.L(), other.CIELAB.L()) );
            }

            <span class="keyword">if</span> (other.CIELAB === <span class="literal">undefined</span>) {
                <span class="keyword">this</span>.a( op(<span class="keyword">this</span>.a(), other.a) );
            } <span class="keyword">else</span> {
                <span class="keyword">this</span>.a( op(<span class="keyword">this</span>.a(), other.CIELAB.a()) );
            }

            <span class="keyword">if</span> (other.CIELAB === <span class="literal">undefined</span>) {
                <span class="keyword">this</span>.b( op(<span class="keyword">this</span>.b(), other.b) );
            } <span class="keyword">else</span> {
                <span class="keyword">this</span>.b( op(<span class="keyword">this</span>.b(), other.CIELAB.b()) );
            }

            <span class="keyword">return</span> <span class="keyword">this</span>;
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-12">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-12">&#182;</a>
              </div>
              <p>plot the Lab-Values</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        toString: <span class="keyword">function</span>() {
            <span class="keyword">return</span> <span class="string">'L: '</span> + <span class="keyword">this</span>.CIELAB.L() + <span class="string">', a: '</span> + <span class="keyword">this</span>.CIELAB.a() + <span class="string">', b: '</span> + <span class="keyword">this</span>.CIELAB.b();
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-13">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-13">&#182;</a>
              </div>
              <p>shorthand for toString</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        print: <span class="keyword">function</span>() {
            <span class="keyword">return</span> <span class="keyword">this</span>.CIELAB.toString();
        }
    };



    <span class="keyword">if</span> (space !== <span class="literal">undefined</span>) {

        <span class="keyword">switch</span> (space)
        {
        <span class="keyword">case</span> <span class="string">'CIELAB'</span>:
            <span class="keyword">this</span>._currentSpace = space;

            <span class="keyword">if</span> (values === <span class="literal">undefined</span>) {
                <span class="keyword">this</span>.CIELAB.init(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>);
            } <span class="keyword">else</span> {
                <span class="keyword">this</span>.CIELAB.init(values[<span class="number">0</span>], values[<span class="number">1</span>], values[<span class="number">2</span>]);
            }
            <span class="keyword">break</span>;
        <span class="keyword">default</span>:
            <span class="keyword">throw</span> {
                type:       <span class="string">"implementation"</span>,
                message:     <span class="string">"at the moment you can just use CIELAB-Colorspce."</span>
            };
        }
    }



});</pre></div></div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
